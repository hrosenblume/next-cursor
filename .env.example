# =============================================================================
# Environment Variables - Secrets & Overrides
# =============================================================================
# Copy this file to .env.local and fill in your credentials:
#   cp .env.example .env.local
#
# The app runs without this file using defaults from .env, but authentication
# won't work until you add your Google OAuth credentials here.
#
# .env.local overrides the committed .env defaults.
# NEVER commit .env.local to git!
# =============================================================================

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# SQLite for local development (default in .env, override here if needed)
DATABASE_URL="file:./dev.db"

# PostgreSQL for production (DigitalOcean Managed Database or similar)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
DATABASE_URL_PROD="postgresql://user:password@host:25060/defaultdb?sslmode=require"

# -----------------------------------------------------------------------------
# Authentication (NextAuth.js v5)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
# (A dev-only default exists in .env - REPLACE THIS FOR PRODUCTION!)
NEXTAUTH_SECRET="your-secret-here-generate-with-openssl"

# Required for proxy/tunnel setups (ngrok, Cloudflare)
AUTH_TRUST_HOST=true

# Google OAuth credentials (REQUIRED for authentication to work)
# Create at: https://console.cloud.google.com/apis/credentials
# Add these redirect URIs:
#   - http://localhost:3000/api/auth/callback/google
#   - https://your-ngrok-domain.ngrok.dev/api/auth/callback/google
#   - https://yourdomain.com/api/auth/callback/google
#   - https://staging.yourdomain.com/api/auth/callback/google
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# -----------------------------------------------------------------------------
# Site Configuration
# -----------------------------------------------------------------------------
# Your production domain (no trailing slash)
NEXT_PUBLIC_SITE_URL="https://yourdomain.com"

# Staging domain (protected by Cloudflare Access)
NEXT_PUBLIC_STAGING_URL="https://staging.yourdomain.com"

# -----------------------------------------------------------------------------
# Initial Admin User (for db:seed)
# -----------------------------------------------------------------------------
# This user will be created as admin when running npm run db:seed
ADMIN_EMAIL="you@example.com"
ADMIN_NAME="Your Name"

# -----------------------------------------------------------------------------
# ngrok (optional - for mobile testing)
# -----------------------------------------------------------------------------
# Reserve a static domain at: https://dashboard.ngrok.com/cloud-edge/domains
NGROK_DOMAIN="your-domain.ngrok.dev"

# Email(s) allowed through ngrok OAuth (comma-separated for multiple)
NGROK_OAUTH_EMAIL="you@example.com"
